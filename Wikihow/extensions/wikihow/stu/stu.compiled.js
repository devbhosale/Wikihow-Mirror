window.WH=window.WH||{};
window.WH.Stu=function(){function I(a,b){var d=new XMLHttpRequest;d.open("GET",a,b);d.send()}function r(){var a=J;if(k){var b=+new Date-k;0<b&&(a+=b)}return a}function K(a){if("undefined"!==typeof a&&"undefined"!==typeof a.target&&"undefined"!==typeof a.target.getAttribute&&(a=a.target.getAttribute("id"),"undefined"!==typeof a&&0!==a.indexOf("whvid-player")))return;if(!(L||(L=!0,m&&6>=m))){a=y?location.href.match(/\bm\./i)?"vm":"vw":"pv";var b=g.pageName+" btraw "+r()/1E3,d=q({});delete d.dl;var e=
(z?"/x/devstu":"/Special:Stu")+"?v=6";e+="&"+A({d:a,m:b,b:"6"})+"&"+A(d);I(e,!1)}}function M(){k&&(J+=+new Date-k,k=!1)}function N(){k||(k=+new Date)}function O(){var a=document.querySelectorAll("#intro, .section.steps, #quick_summary_section");if(a){var b=1E6,d=0;Array.prototype.forEach.call(a,function(a){var e=a;for(var c=0;e;)c+=e.offsetTop-e.clientTop,e=e.offsetParent;e=c;a=a.offsetHeight||a.clientHeight;b=Math.min(e,b);d=Math.max(e+a,d)});n=b;B=d}}function Y(){var a=!1;try{var b=Object.defineProperty({},
"passive",{get:function(){a=!0}});window.addEventListener("testPassive",null,b);window.removeEventListener("testPassive",null,b)}catch(d){}window.addEventListener("scroll",function(){h++;if(-1!=t){var a=+new Date-u;a>=t+250&&(t=a,O())}var b=r();a=b-P;P=b;if(!(0>=a)){var f=window.scrollY||window.pageYOffset;b=f+(window.innerHeight||document.documentElement.clientHeight);if(!(f>B||b<n)){var c=B-n;if(!(0>=c))for(f=Math.floor(128*(1*f-n)/c),0>f&&(f=0),b=Math.ceil(128*(1*b-n)/c),127<b&&(b=127),c=f;c<=
b;)"undefined"===typeof l[c]&&(l[c]=0),l[c]+=a,c++}}});window.addEventListener("resize",function(){h++});window.addEventListener("click",function(){h++});b=a?{passive:!0}:!1;window.addEventListener("touchstart",function(){h++},b);window.addEventListener("touchend",function(){h++});window.addEventListener("touchcancel",function(){h++});window.addEventListener("touchmove",function(){h++},b);document.addEventListener("keydown",function(){h++});document.addEventListener("keyup",function(){h++});document.addEventListener("keypress",
function(){h++});setInterval(function(){t=-1;O();0<h&&(Q++,h=0);var a=r();a>R&&(R=a,S<C&&S++)},3E3)}function D(a,b){a="/x/collect?t="+a+"&"+A(b);I(a,!0)}function Z(a){v?(v(a),T&&(setInterval(function(){q({})},1E3),T=!1)):w.push(a)}function U(){function a(){var a={ti:x[p].t};if(0===p){a:{try{var b=window.navigator,f=document,c=window.screen,h=document,g=h.documentElement,k=h.body,m=k&&k.clientWidth&&k.clientHeight,l=[];g&&g.clientWidth&&g.clientHeight&&("CSS1Compat"===h.compatMode||!m)?l=[g.clientWidth,
g.clientHeight]:m&&(l=[k.clientWidth,k.clientHeight]);g=0>=l[0]||0>=l[1]?"":l.join("x");a=V(a,{de:f&&(f.characterSet||f.charset),ul:(b&&(b.language||b.browserLanguage)||"").toLowerCase(),sd:c&&c.colorDepth+"-bit",sr:c&&c.width+"x"+c.height,vp:g,pr:"undefined"!=typeof window.devicePixelRatio?window.devicePixelRatio:0});var n=q(a);break a}catch(ca){}n={}}D("first",n)}else D("later",q(a));p++;p<x.length&&U()}var b=+new Date;p<x.length&&(b=u+1E3*x[p].t-b,0>=b?a():setTimeout(a,b))}function V(a,b){for(var d in b)b.hasOwnProperty(d)&&
"undefined"==typeof a[d]&&(a[d]=b[d]);return a}function q(a){var b=aa();250>b&&(b=1500);var d={gg:y,to:Math.round((+new Date-u)/1E3),ac:Math.round(r()/1E3),pg:g.pageID,ns:g.pageNamespace,ra:W,cv:X,cl:E,cm:ba,dl:location.href,b:"6"};d=V(a,d);if(0===g.pageNamespace){a=d;F=b/1500*180;C=F/3;b=Math.round(100*Q/C);0>b&&(b=0);100<b&&(b=100);for(var e=0,f=0;128>f;f++){var c=0;"undefined"!==typeof l[f]&&(c=l[f]);c=(c/1E3-1)/9;0>c&&(c=0);1<c&&(c=1);e+=c}e=Math.round(100*e/128);f=Math.round(.5*b+.5*e);Z('<span class="replace_line">score: '+
f+" = 50% of "+b+" + 50% of "+e+"</span>");a.a1=f}return d}function A(a){var b="",d=!0,e;for(e in a)a.hasOwnProperty(e)&&(b+=(d?"":"&")+e+"="+encodeURIComponent(a[e]),d=!1);return b}function aa(){var a=document.querySelectorAll("#intro, .section.steps, #quick_summary_section");if(!a)return 0;var b=0;Array.prototype.forEach.call(a,function(a){a=a.textContent.split(/\s/).filter(function(a){return""!==a}).length;b+=a});return b}var g=window.WH,X=g.stuCount,E=g.pageLang,ba=g.isMobile,z=!!location.href.match(/\.wikidogs\.com/),
G=X&&"en"==E||z,H=location.href.match(/\.wikihow\.[a-z]+\//)&&"en"==E||z,u=!1,k=!1,J=0,y=0,L=!1,W,m=!1,p=0,F=180,C=F/3,S=0,Q=0,h=0,R=0,l=[],t=0,n=0,B=0,P=0,v=null,w=[],x=[{t:1},{t:10},{t:20},{t:30},{t:45},{t:60},{t:90},{t:120},{t:180},{t:240},{t:300},{t:360},{t:420},{t:480},{t:540},{t:600}],T=!0;return{start:function(){var a=navigator.userAgent.match(/MSIE (\d+)/);a&&(m=a[1]);a="";for(var b=0;12>b;b++)a+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));W=a;y=("string"===
typeof document.referrer?document.referrer:"").match(/^[a-z]*:\/\/[^\/]*google/i)?1:0;k=u="number"==typeof g.timeStart&&0<g.timeStart?g.timeStart:+new Date;"visibilityState"in document&&"hidden"==document.visibilityState&&(k=!1);H&&U();m&&7<=m&&9>=m?(document.onfocusin=N,document.onfocusout=M):(window.onfocus=N,window.onblur=M);G&&(window.onunload=K,window.onbeforeunload=K);(G||H)&&Y()},ping:function(a){(G||H)&&D("event",q(a))},registerDebug:function(a){if("function"!=typeof a)console.log("registerDebug: must be a function");
else{v=a;for(a=0;a<w.length;a++)v(w[a]);w=[]}}}}();window.WH.Stu.start();
