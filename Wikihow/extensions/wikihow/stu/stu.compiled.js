window.WH=window.WH||{};
window.WH.Stu=function(){function F(a,b){var f=new XMLHttpRequest;f.open("GET",a,b);f.send()}function l(){var a=G;if(g){var b=+new Date-g;0<b&&(a+=b)}return a}function H(a){if("undefined"!==typeof a&&"undefined"!==typeof a.target&&"undefined"!==typeof a.target.getAttribute&&(a=a.target.getAttribute("id"),"undefined"!==typeof a&&0!==a.indexOf("whvid-player")))return;if(!(I||(I=!0,k&&6>=k))){a=v?location.href.match(/\bm\./i)?"vm":"vw":"pv";var b=h.pageName+" btraw "+l()/1E3,f=q({});delete f.dl;var K=
(J?"/x/devstu":"/Special:Stu")+"?v=6";K+="&"+w({d:a,m:b,b:"6"})+"&"+w(f);F(K,!1)}}function L(){g&&(G+=+new Date-g,g=!1)}function M(){g||(g=+new Date)}function N(){var a=document.querySelectorAll("#intro, .section.steps, #quick_summary_section");if(a){var b=1E6,f=0;a.forEach(function(a){var d=a;for(var c=0;d;)c+=d.offsetTop-d.clientTop,d=d.offsetParent;d=c;a=a.offsetHeight||a.clientHeight;b=Math.min(d,b);f=Math.max(d+a,f)});p=b;x=f}}function O(){return Math.max(document.body.clientHeight,document.body.offsetHeight,
document.body.scrollHeight)}function Y(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassive",null,b);window.removeEventListener("testPassive",null,b)}catch(f){}window.addEventListener("scroll",function(){e++;if(-1!=r){var a=+new Date-t;a>=r+250&&(r=a,N())}var b=l();a=b-P;P=b;if(!(0>=a)){var d=window.scrollY||window.pageYOffset;b=d+(window.innerHeight||document.documentElement.clientHeight);if(!(d>x||b<p)){var c=x-p;if(!(0>=c))for(d=Math.floor(128*
(1*d-p)/c),0>d&&(d=0),b=Math.ceil(128*(1*b-p)/c),127<b&&(b=127),c=d;c<=b;)"undefined"===typeof m[c]&&(m[c]=0),m[c]+=a,c++}}a=(window.scrollY||window.pageYOffset)+(window.innerHeight||document.documentElement.clientHeight);a>y&&(y=a)});window.addEventListener("resize",function(){e++});window.addEventListener("click",function(){e++});b=a?{passive:!0}:!1;window.addEventListener("touchstart",function(){e++},b);window.addEventListener("touchend",function(){e++});window.addEventListener("touchcancel",function(){e++});
window.addEventListener("touchmove",function(){e++},b);document.addEventListener("keydown",function(){e++});document.addEventListener("keyup",function(){e++});document.addEventListener("keypress",function(){e++});setInterval(function(){r=-1;N();0<e&&(Q++,e=0);var a=l();a>R&&(R=a,S<z&&S++)},3E3)}function A(a,b){a="/x/collect?t="+a+"&"+w(b);F(a,!0)}function T(){function a(){var a={ti:u[n].t};if(0===n){a:{try{var b=window.navigator,d=document,c=window.screen,h=document,e=h.documentElement,g=h.body,l=
g&&g.clientWidth&&g.clientHeight,k=[];e&&e.clientWidth&&e.clientHeight&&("CSS1Compat"===h.compatMode||!l)?k=[e.clientWidth,e.clientHeight]:l&&(k=[g.clientWidth,g.clientHeight]);e=0>=k[0]||0>=k[1]?"":k.join("x");a=B(a,{de:d&&(d.characterSet||d.charset),ul:(b&&(b.language||b.browserLanguage)||"").toLowerCase(),sd:c&&c.colorDepth+"-bit",sr:c&&c.width+"x"+c.height,vp:e,pr:"undefined"!=typeof window.devicePixelRatio?window.devicePixelRatio:0});var m=q(a);break a}catch(da){}m={}}A("first",m)}else A("later",
q(a));n++;n<u.length&&T()}var b=+new Date;n<u.length&&(b=t+1E3*u[n].t-b,0>=b?a():setTimeout(a,b))}function B(a,b){for(var f in b)b.hasOwnProperty(f)&&"undefined"==typeof a[f]&&(a[f]=b[f]);return a}function q(a){var b=Z();250>b&&(b=1500);var f={gg:v,to:Math.round((+new Date-t)/1E3),ac:Math.round(l()/1E3),pg:h.pageID,ns:h.pageNamespace,ra:U,cv:V,cl:W,cm:aa,dl:location.href,b:"6"};f=B(a,f);if(0===h.pageNamespace){a=Math.round(l()/1E3*100/(b/200*60));0>a&&(a=0);100<a&&(a=100);C=b/1500*180;z=C/3;b=Math.round(100*
Q/z);0>b&&(b=0);100<b&&(b=100);for(var e=0,d=0;128>d;d++){var c=0;"undefined"!==typeof m[d]&&(c=m[d]);c=(c/1E3-1)/9;0>c&&(c=0);1<c&&(c=1);e+=c}e=Math.round(100*e/128);c=l();var g=O();d=Math.round(y/g*100);0>d&&(d=0);100<d&&(d=100);c=Math.round(c/1E3/(g/15E3*180)*100);0>c&&(c=0);100<c&&(c=100);f=B({a1:a,a2:b,a3:e,a4:Math.round((d+c)/2),a5:D(40),a6:D(80),a7:D(160)},f)}return f}function w(a){var b="",f=!0,e;for(e in a)a.hasOwnProperty(e)&&(b+=(f?"":"&")+e+"="+encodeURIComponent(a[e]),f=!1);return b}
function Z(){var a=document.querySelectorAll("#intro, .section.steps, #quick_summary_section");if(!a)return 0;var b=0;a.forEach(function(a){a=a.textContent.split(/\s/).filter(function(a){return""!==a}).length;b+=a});return b}function D(a){return"boolean"===typeof h.Stu.lastStepPingSent&&h.Stu.lastStepPingSent?l()/1E3>=1*O()/a?100:0:0}var h=window.WH,V=h.stuCount,W=h.pageLang,aa=h.isMobile,ba=V&&"en"==W,J=!!location.href.match(/\.wikidogs\.com/),ca=!!location.href.match(/\.wikihow\.[a-z]+\//)||J,t=
!1,g=!1,G=0,v=0,I=!1,U,k=!1,n=0,C=180,z=C/3,S=0,Q=0,e=0,R=0,m=[],r=0,p=0,x=0,P=0,y=0,X=null,E=[],u=[{t:1},{t:10},{t:20},{t:30},{t:45},{t:60},{t:90},{t:120},{t:180},{t:240},{t:300},{t:360},{t:420},{t:480},{t:540},{t:600}];return{start:function(){var a=navigator.userAgent.match(/MSIE (\d+)/);a&&(k=a[1]);a="";for(var b=0;12>b;b++)a+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));U=a;v=("string"===typeof document.referrer?document.referrer:"").match(/^[a-z]*:\/\/[^\/]*google/i)?
1:0;g=t="number"==typeof h.timeStart&&0<h.timeStart?h.timeStart:+new Date;"visibilityState"in document&&"hidden"==document.visibilityState&&(g=!1);ca&&T();k&&7<=k&&9>=k?(document.onfocusin=M,document.onfocusout=L):(window.onfocus=M,window.onblur=L);ba&&(window.onunload=H,window.onbeforeunload=H);Y()},ping:function(a){A("event",q(a))},registerDebug:function(a){if("function"!=typeof a)console.log("registerDebug: must be a function");else{X=a;for(a=0;a<E.length;a++)X(E[a]);E=[]}}}}();window.WH.Stu.start();
