var STU_BUILD="6";window.WH=window.WH||{};
window.WH.Stu=function(){function J(a,b){var d=new XMLHttpRequest;d.open("GET",a,b);d.send()}function p(){var a=K;if(l){var b=+new Date-l;0<b&&(a+=b)}return a}function L(a){if("undefined"!==typeof a&&"undefined"!==typeof a.target&&"undefined"!==typeof a.target.getAttribute&&(a=a.target.getAttribute("id"),"undefined"!==typeof a&&0!==a.indexOf("whvid-player")))return;if(!M){M=!0;a=p();a=h.pageName+" btraw "+a/1E3;var b=z?location.href.match(/\bm\./i)?"vm":"vw":"pv";if(!(m&&6>=m)){var d=t({});delete d.dl;
var e=(A?"/x/devstu":"/Special:Stu")+"?v="+STU_BUILD;e+="&"+B({d:b,m:a,b:STU_BUILD})+"&"+B(d);J(e,!1)}}}function N(){l&&(K+=+new Date-l,l=!1)}function O(){l||(l=+new Date)}function P(){var a=document.querySelectorAll("#intro, .section.steps, #quick_summary_section");if(a){var b=1E6,d=0;Array.prototype.forEach.call(a,function(a){var e=a;for(var c=0;e;)c+=e.offsetTop-e.clientTop,e=e.offsetParent;e=c;a=a.offsetHeight||a.clientHeight;b=Math.min(e,b);d=Math.max(e+a,d)});n=b;C=d}}function Z(){var a=!1;
try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassive",null,b);window.removeEventListener("testPassive",null,b)}catch(d){}window.addEventListener("scroll",function(){g++;if(-1!=u){var a=+new Date-v;a>=u+250&&(u=a,P())}var b=p();a=b-Q;Q=b;if(!(0>=a)){var f=window.scrollY||window.pageYOffset;b=f+(window.innerHeight||document.documentElement.clientHeight);if(!(f>C||b<n)){var c=C-n;if(!(0>=c))for(f=Math.floor(128*(1*f-n)/c),0>f&&(f=0),b=Math.ceil(128*
(1*b-n)/c),127<b&&(b=127),c=f;c<=b;)"undefined"===typeof k[c]&&(k[c]=0),k[c]+=a,c++}}});window.addEventListener("resize",function(){g++});window.addEventListener("click",function(){g++});b=a?{passive:!0}:!1;window.addEventListener("touchstart",function(){g++},b);window.addEventListener("touchend",function(){g++});window.addEventListener("touchcancel",function(){g++});window.addEventListener("touchmove",function(){g++},b);document.addEventListener("keydown",function(){g++});document.addEventListener("keyup",
function(){g++});document.addEventListener("keypress",function(){g++});setInterval(function(){u=-1;P();0<g&&(R++,g=0);var a=p();a>S&&(S=a,T<D&&T++)},3E3)}function E(a,b){var d="/x/collect?t="+a+"&"+B(b);J(d,!0)}function aa(a){w?(w(a),U&&(setInterval(function(){t({})},1E3),U=!1)):x.push(a)}function V(){var a=+new Date;var b=function(){var a={ti:y[r].t};if(0===r){a:{try{var b=window.navigator,f=document,c=window.screen,g=f&&(f.characterSet||f.charset),h=(b&&(b.language||b.browserLanguage)||"").toLowerCase(),
l=c&&c.colorDepth+"-bit",m=c&&c.width+"x"+c.height;b=document;var q=b.documentElement,k=b.body,n=k&&k.clientWidth&&k.clientHeight;c=[];q&&q.clientWidth&&q.clientHeight&&("CSS1Compat"===b.compatMode||!n)?c=[q.clientWidth,q.clientHeight]:n&&(c=[k.clientWidth,k.clientHeight]);q=0>=c[0]||0>=c[1]?"":c.join("x");a=W(a,{de:g,ul:h,sd:l,sr:m,vp:q,pr:"undefined"!=typeof window.devicePixelRatio?window.devicePixelRatio:0});var p=t(a);break a}catch(da){}p={}}E("first",p)}else E("later",t(a));r++;r<y.length&&V()};
r<y.length&&(a=v+1E3*y[r].t-a,0>=a?b():setTimeout(b,a))}function W(a,b){for(var d in b)b.hasOwnProperty(d)&&"undefined"==typeof a[d]&&(a[d]=b[d]);return a}function t(a){var b=ba();250>b&&(b=1500);var d=z;var e=Math.round((+new Date-v)/1E3);var f=Math.round(p()/1E3);d={gg:d,to:e,ac:f,pg:h.pageID,ns:h.pageNamespace,ra:X,cv:Y,cl:F,cm:ca,dl:location.href,b:STU_BUILD};d=W(a,d);if(0===h.pageNamespace){a=d;G=b/1500*180;D=G/3;b=Math.round(100*R/D);0>b&&(b=0);100<b&&(b=100);for(f=e=0;128>f;f++){var c=0;"undefined"!==
typeof k[f]&&(c=k[f]);c=(c/1E3-1)/9;0>c&&(c=0);1<c&&(c=1);e+=c}e=Math.round(100*e/128);f=Math.round(.5*b+.5*e);aa('<span class="replace_line">score: '+f+" = 50% of "+b+" + 50% of "+e+"</span>");a.a1=f}return d}function B(a){var b="",d=!0,e;for(e in a)a.hasOwnProperty(e)&&(b+=(d?"":"&")+e+"="+encodeURIComponent(a[e]),d=!1);return b}function ba(){var a=document.querySelectorAll("#intro, .section.steps, #quick_summary_section");if(!a)return 0;var b=0;Array.prototype.forEach.call(a,function(a){a=a.textContent.split(/\s/).filter(function(a){return""!==
a}).length;b+=a});return b}var h=window.WH,Y=h.stuCount,F=h.pageLang,ca=h.isMobile,A=!!location.href.match(/\.wikidogs\.com/),H=Y&&"en"==F||A,I=location.href.match(/\.wikihow\.[a-z]+\//)&&"en"==F||A,v=!1,l=!1,K=0,z=0,M=!1,X,m=!1,r=0,G=180,D=G/3,T=0,R=0,g=0,S=0,k=[],u=0,n=0,C=0,Q=0,w=null,x=[],y=[{t:1},{t:10},{t:20},{t:30},{t:45},{t:60},{t:90},{t:120},{t:180},{t:240},{t:300},{t:360},{t:420},{t:480},{t:540},{t:600}],U=!0;return{start:function(){var a=navigator.userAgent.match(/MSIE (\d+)/);a&&(m=a[1]);
a="";for(var b=0;12>b;b++)a+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));X=a;z=("string"===typeof document.referrer?document.referrer:"").match(/^[a-z]*:\/\/[^\/]*google/i)?1:0;l=v="number"==typeof h.timeStart&&0<h.timeStart?h.timeStart:+new Date;"visibilityState"in document&&"hidden"==document.visibilityState&&(l=!1);I&&V();m&&7<=m&&9>=m?(document.onfocusin=O,document.onfocusout=N):(window.onfocus=O,window.onblur=N);H&&(window.onunload=L,window.onbeforeunload=L);(H||
I)&&Z()},ping:function(a){(H||I)&&E("event",t(a))},registerDebug:function(a){if("function"!=typeof a)console.log("registerDebug: must be a function");else{w=a;for(a=0;a<x.length;a++)w(x[a]);x=[]}}}}();window.WH.Stu.start();
